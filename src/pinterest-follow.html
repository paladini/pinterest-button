<polymer-element name="pinterest-follow"
		 attributes="profile text">

	<template>
	 	<a data-pin-do="buttonFollow" href="{{profile}}">{{text}}</a>
	</template>

	<!-- Loading the required Pinterest JS -->
	<script src="http://assets.pinterest.com/js/pinit.js" async="async"></script>

	<script>
		Polymer('pinterest-follow', {
			profile: "",
			text: "Follow Me!",
			ready: function(){
				
				// Check if user insert a valid URL or just a username
				var url = this.profile
				var a = document.createElement('a');
				a.href = url;

				if(!(a.hostname.length > 0)){
					this.profile = "http://www.pinterest.com/" + this.profile;
				}

				// Check if after username have a double slash at the end of URL
				while(this.profile.charAt(this.profile.length - 1) == '/'){
					this.profile = this.profile.substring(0, this.profile.length - 1);
				}
			}
		});
	</script>

</polymer-element>